(function($){$.fn.extend({Slajder:function(opts){return this.each(function(){var defaults={forwardingSpeed:3000,animationSpeed:1000,effect:"slideLeft",offset:0,hasPagination:true,autoForward:true},options=$.extend(defaults,opts),timer=null,i=0,container=$(this),slides=container.find('.slide'),slidesNrBox=null,randNum=Math.floor((Math.random()*3)),wdthUL=container.find('ul').width();hghtUL=container.find('ul').height(),container.find('ul').css('position','relative');if(options.hasPagination){slidesNrBox=$('<div/>',{'class':'slidesNumbers'}).appendTo(container).css('width',wdthUL);slidesNrBox.delegate('span','click',function(){clearInterval(timer);forward($(this).data('count'));randNum=Math.floor((Math.random()*3))})}slides.each(function(i){$(this).css({'position':'absolute','left':0,'width':wdthUL,'height':hghtUL});if(options.hasPagination)slidesNrBox.append($('<span/>',{'data-count':i}).html(i+1))});container.find('ul li *').css({'width':wdthUL,'height':hghtUL});var effects={animate_left:function(i){slides.filter('.slide.active').stop(true,false).animate({'left':-wdthUL/2-options.offset,'opacity':0},options.animationSpeed).removeClass('active');slides.eq(i).addClass('active').css({'display':'block','opacity':0,'left':wdthUL/2+options.offset}).stop(true,false).animate({'left':0,'opacity':1},options.animationSpeed)},animate_right:function(i){slides.filter('.slide.active').stop(false,false).animate({'left':wdthUL/2+options.offset,'opacity':0},options.animationSpeed).removeClass('active');slides.eq(i).addClass('active').css({'display':'block','opacity':0,'left':-wdthUL/2-options.offset}).stop(true,false).animate({'left':0,'opacity':1},options.animationSpeed)},animate_fade:function(i){slides.filter('.slide.active').stop(false,false).animate({'opacity':0},options.animationSpeed).removeClass('active');slides.eq(i).addClass('active').css({'display':'block','opacity':0,'left':0}).stop(true,false).animate({'opacity':1},options.animationSpeed)}};function forward(i){if(i>=slides.length)i=0;switch(options.effect){case"slideLeft":effects['animate_left'](i);break;case"slideRight":effects['animate_right'](i);break;case"fade":effects['animate_fade'](i);break;case"random":functions=["animate_left","animate_right","animate_fade"];effects[functions[randNum]](i);break}if(slidesNrBox)slidesNrBox.find('span').removeClass().eq(i).addClass('activeSlide');if(options.autoForward){timer=setTimeout(function(){forward(i);if(i>=slides.length)i=0},options.forwardingSpeed);i++}}forward(0)})}})})(jQuery);